<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Caregiver List</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-50 min-h-screen flex">

  <!-- Sidebar Navigation -->
  <nav class="bg-green-600 text-white w-64 min-h-screen p-6 fixed shadow-lg">
    <h1 class="text-2xl font-bold mb-6">Admin Dashboard</h1>
    <ul class="space-y-4">
      <li>
        <a href="/" class="flex items-center space-x-2 hover:bg-green-700 p-2 rounded-md">ğŸ  <span>Home</span></a>
      </li>
      <li>
        <a href="/admin/patients/" class="flex items-center space-x-2 hover:bg-green-700 p-2 rounded-md">ğŸ“ <span>Patients</span></a>
      </li>
      <li>
        <a href="/admin/caregivers/" class="flex items-center space-x-2 hover:bg-green-700 p-2 rounded-md">ğŸ‘©â€âš•ï¸ <span>Caregivers</span></a>
      </li>
      <li>
        <a href="#" class="flex items-center space-x-2 hover:bg-red-600 p-2 rounded-md">ğŸšª <span>Logout</span></a>
      </li>
    </ul>
  </nav>

  <!-- Main Content -->
  <div class="ml-64 w-full p-6">
    <header class="bg-white shadow-lg p-6 rounded-lg mb-6 text-center">
      <h2 class="text-3xl font-semibold text-blue-700">Caregiver List</h2>
    </header>

    <div class="container mx-auto p-6">
      <% if (caregivers.length > 0) { %>
        <div class="overflow-x-auto bg-white shadow-md rounded-lg">
          <table class="min-w-full table-auto border-collapse">
            <thead>
              <tr class="bg-green-600 text-white">
                <th class="p-4 text-left">Name</th>
                <th class="p-4 text-left">Role</th>
                <th class="p-4 text-left">Gender</th>
                <th class="p-4 text-left">Contact</th>
                <th class="p-4 text-left">Email</th>
                <th class="p-4 text-left">Address</th>
                <th class="p-4 text-left">Aadhar</th>
                <th class="p-4 text-left">Document</th>
              </tr>
            </thead>
            <tbody>
              <% caregivers.forEach(caregiver => { %>
                <tr class="border-b">
                  <td class="p-4"><%= caregiver.name %></td>
                  <td class="p-4"><%= caregiver.role %></td>
                  <td class="p-4"><%= caregiver.gender %></td>
                  <td class="p-4"><%= caregiver.contact %></td>
                  <td class="p-4"><%= caregiver.email %></td>
                  <td class="p-4"><%= caregiver.address %></td>
                  <td class="p-4">
                    <% if (caregiver.aadhar_document) { %>
                      <% if (caregiver.aadhar_document.endsWith('.jpg') || caregiver.aadhar_document.endsWith('.png')) { %>
                        <img src="<%= caregiver.aadhar_document %>" alt="Aadhar" class="w-20 h-20 object-cover rounded border">
                      <% } else { %>
                        <a href="<%= caregiver.aadhar_document %>" class="text-blue-500 underline" target="_blank">View Aadhar</a>
                      <% } %>
                    <% } %>
                  </td>
                  <td class="p-4">
                    <% if (caregiver.document) { %>
                      <% if (caregiver.document.endsWith('.jpg') || caregiver.document.endsWith('.png')) { %>
                        <img src="<%= caregiver.document %>" alt="Document" class="w-20 h-20 object-cover rounded border">
                      <% } else { %>
                        <a href="<%= caregiver.document %>" class="text-blue-500 underline" target="_blank">View Document</a>
                      <% } %>
                    <% } %>
                  </td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      <% } else { %>
        <p class="text-center text-gray-500 text-lg mt-6">ğŸš« No caregivers found.</p>
      <% } %>
    </div>
  </div>

</body>
</html>
